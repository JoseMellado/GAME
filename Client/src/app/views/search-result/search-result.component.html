<div class="result-content">
  <div class="toolbar" >
    <img class="logo" src="assets/mainlogo.png" [routerLink]="['/session/search']">
    <mat-form-field appearance="outline" class="search-box" >
      <mat-icon matSuffix (click)="search()" style="cursor: pointer;">search</mat-icon>
      <input matInput [(ngModel)]="query" (keydown.enter)="search()" >
    </mat-form-field>
  </div>

  <hr >

  <mat-tab-group>
    <mat-tab label="{{'GAME.SEARCH.ALL' | translate }}">

      <ng-template matTabContent>
        <p class="soft" *ngIf="!searching">{{ "GAME.SEARCH.FOUND" | translate }} {{' ' + documents.length + ' '}} {{ "GAME.SEARCH.RESULTS" | translate }}.</p>
        <div class="documents-container ">
          <div *ngFor="let doc of documents">

            <!--Para imagenes -->
            <mat-card class="cardStyle doc-card"  [routerLink]="['/session/view-page',doc.title, doc.url]" *ngIf="doc.type && doc.type=='image'">
              <mat-card-content>
                <div class="row">
                  <div class="col-md-2">
                    <img class="img-fluid thumbnail searchImageMini" src="{{BaseUrl+ doc.img}}">
                  </div>
                  <div class="col-md-10">
                    <h5 class="url-bar">{{ showShortDescription(doc.docName, 40)}}</h5>
                    <a [routerLink]="['/session/view-page', doc.title, doc.route]"  class="document-link">{{doc.title}}</a>
                    <p>{{doc.searchSnippet}}</p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>

            <!--Para videos-->
            <mat-card class="cardStyle doc-card"  *ngIf="doc.type && doc.type=='video'">
              <mat-card-content>
                <div class="row">
                  <div class="col-md-2">
                    <img class="img-fluid thumbnail searchImageMini" src="{{getThumbnail(doc.url)}}">
                  </div>
                  <div class="col-md-10">
                    <h5 class="url-bar">{{doc.url}}</h5>
                    <a [routerLink]="['/session/view-page', doc.title, doc.route]"  class="document-link">{{doc.title}}</a>
                    <p>{{doc.searchSnippet}}</p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>

            <!--Para documentos-->
            <mat-card class="cardStyle doc-card"  [routerLink]="['/session/view-page', doc.title, doc.route]" *ngIf="!doc.type" >
              <mat-card-content>
                <h5 class="url-bar">{{ showShortDescription(doc.url, 75)}}</h5>
                <a [routerLink]="['/session/view-page', doc.title, doc.route]"  class="document-link">{{doc.title}}</a>
                <p>{{doc.searchSnippet}}</p>
              </mat-card-content>
            </mat-card>

            <br>
          </div>
          <div *ngIf="documents.length <= 0 && !searching" class="text-center">
            <h3>{{ "GAME.SEARCH.NO_RESULTS" | translate }}</h3>
          </div>
        </div>
        <div class="spinnerCard" *ngIf="searching">
          <mat-progress-spinner color="primary" mode="indeterminate" class="mb-4">
          </mat-progress-spinner>
          <span>
            {{ "GAME.SEARCH.SEARCHING" | translate }}
          </span>
        </div>
      </ng-template>


    </mat-tab>
    <mat-tab label="{{'GAME.SEARCH.IMAGES' | translate }}">
      <div class="image-container">

        <mat-grid-list cols="12" [gutterSize]="'12px'" >
          <div *ngFor="let doc of documents">
            <mat-grid-tile class="image-card"  colspan="3" rowspan="3"  *ngIf="doc.type=='image'" [routerLink]="['/session/view-page', doc.title, doc.url]">
              <mat-card class="cardStyle" [routerLink]="['/session/view-page', doc.title, doc.url]" >
                <img  class="img-fluid thumbnail searchImage"   src="{{BaseUrl+doc.img}}">
                <mat-card-content>
                  <h5 class="url-bar">{{ showShortDescription(doc.docName, 25)}}</h5>
                  <a [routerLink]="['/session/view-page', doc.title, doc.route]"  class="document-link">{{doc.title}}</a>
                </mat-card-content>
              </mat-card>
            </mat-grid-tile>
          </div>
        </mat-grid-list>


      </div>
    </mat-tab>
    <mat-tab label="{{'GAME.SEARCH.VIDEOS' | translate }}">
      <div class="video-container">
        <mat-grid-list cols="12" [gutterSize]="'12px'">
          <div *ngFor="let doc of documents">
            <mat-grid-tile class="video-card"  colspan="12"  *ngIf="doc.type=='video'">
              <div>
                <img src="{{getThumbnail(doc.url)}}" [routerLink]="['/session/view-page', doc.title, doc.route]" >
              </div>
              <mat-card class="cardStyle doc-card"  [routerLink]="['/session/view-page', doc.title, doc.route]" >
                <mat-card-content>
                  <h5 class="url-bar">{{doc.url}}</h5>
                  <a [routerLink]="['/session/view-page', doc.title, doc.route]"  class="document-link">{{doc.title}}</a>
                  <p>{{doc.searchSnippet}}</p>
                </mat-card-content>
              </mat-card>
            </mat-grid-tile>
          </div>
          <div *ngIf="documents.length <= 0" class="text-center">
            <h3>{{ "ADMIN.SEARCH.NO_RESULTS" | translate }}</h3>
          </div>
        </mat-grid-list>
      </div>

    </mat-tab>
  </mat-tab-group>

</div>

